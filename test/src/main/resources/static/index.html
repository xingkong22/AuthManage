<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/bootstrap.css" />
    <script src="js/jquery.js"></script>
    <script>
        function login() {
            var username = $("#username").val();
            var password = $("#password").val();
            var vcode = $("#vcode").val();
            alert(username);
            alert(password);
            $.get("login",{username:username,password:password,vcode:vcode},function (d) {
                if (d==1) {
                    location.href = "main.html";
                }else {
                    alert("登录失败");
                }
            });
        }




    </script>
</head>
<body background="css/111.jpg">
    <div style="width: 100%;height: 700px;display: flex;justify-content: center;align-items: center">
        <div class="form-group">
            <div style="margin-bottom: 30px" class="input-group">
                <span class="input-group-addon">账号</span>
                <input id="username" type="text" name="username" class="form-control" />
            </div>
            <div style="margin-bottom: 30px" class="input-group">
                <span class="input-group-addon">密码</span>
                <input id="password" type="password" name="password" class="form-control" placeholder="必须为字母和数字的组合" />
            </div>
            <div style="margin-bottom: 30px" class="input-group">
                <span class="input-group-addon">验证码</span>
                <input id="vcode" type="text" name="vcode" class="form-control" placeholder="请输入手机收到的验证码" />
                <span class="input-group-addon">
                    <button class="btn btn-info" onclick="createVcode()">获取验证码</button>
                </span>
            </div>
            <script>
                var btn = document.getElementsByTagName('button')[0];
                // var ipt = document.getElementsByTagName('input')[0];
                function createVcode(){
                    // $.get("sms/createCode/17803897318",function (d) {
                    //
                    // });
                    var time = 60;//定义时间变量。用于倒计时用
                    var timer = null;//定义一个定时器；
                    timer = setInterval(function(){///开启定时器。函数内执行
                        btn.disabled = true;//disabled是禁用的意思
                        btn.innerText = time+"秒后重新发送";    //点击发生后，按钮的文本内容变成之前定义好的时间值。
                        time--;//时间值自减
                        if(time ==0){     //判断,当时间值小于等于0的时候
                            btn.innerText='重新发送验证码'; //其文本内容变成……点击重新发送……
                            btn.disabled = false;
                            clearInterval(timer); //清除定时器
                        }
                    },1000)

                }
            </script>

            <div>
                <button class="btn btn-success btn-block" onclick="login()">登录</button>
            </div>
            <div>
                <hr/>
                <a href="toWeiboLogin">微博登录</a>
            </div>

        </div>
    </div>

</body>
</html>